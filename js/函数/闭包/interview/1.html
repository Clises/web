<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<script>

    <!--没有闭包-->
    var name='charlie'
    var object={
        name:'errol',
        getNameFunc:function () {
            return function () {
                return this.name
            }
        }
    }
    alert(object.getNameFunc()() )
    //调用 getNameFunc 这个函数中的函数这的 tihs 指向的是 window





    /*有闭包 */

    var name='charlie'
    var object={
        name:'errol',
        getNameFunc:function () {
            var that=this;//将函数变量 this, 用另一个变量存储起来
            return function () {
                return that.name
            }
        }
    }
    alert(object.getNameFunc()() )


    function fun(n,o) {
        console.log(o);
        return{
            fun:function (m) {
                return fun(m,n)
            }
        }
    }
    var a=fun(0); a.fun(1) ;a.fun(2);a.fun(3)
    var b=fun(0).fun(1).fun(2).fun(3)
    var c=fun(0).fun(1); c.fun(2); c.fun(3);





//什么时候产生闭包?   调用外部函数才能产生新的闭包,执行内部函数是不会产生闭包










</script>
</body>
</html>
