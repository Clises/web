<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script>
        window.onload=function(){
            var fm=document.getElementsByTagName('form')[0]
            //dom收集表单信息
            //ajax传递表单信息
            fm.onsubmit=function(){
                var nm=document.getElementById('username').value;
                var pwd=document.getElementById('password').value;
                var email=document.getElementById('email').value;
                var info="name="+nm+"&pass="+pwd+"&email="+email;

                var xhr =new XMLHttpRequest();
                xhr.onreadystatechange=function () {
                    if (xhr.readyState==4){
                        alert(xhr.responseText)
                    }
                };
                xhr.open('post','config.php')
                xhr.setRequestHeader('content-type','application/x-www-form-urlencoded')
                xhr.send(info)
                return false; //阻止浏览器的默认动作
            }
        }
    </script>
</head>
<body>
<h2>实现无刷新表单提交</h2>
<form method="post" action="./config.php">
    <p>用户名:
        <input type="text"name="username" id="username"/>
    </p>
    <p>密码:
        <input type="password"name="password" id="password">
    </p>
    <p>邮箱:
        <input type="text"name="email" id="email">
    </p>
    <p>
        <input type="submit"value="注册">
    </p>

</form>
</body>
</html>


